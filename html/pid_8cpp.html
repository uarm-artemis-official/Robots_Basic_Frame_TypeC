<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Basic_Frame_TypeC_2023_Omni: Core/Src/Algorithms/control/pid.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Basic_Frame_TypeC_2023_Omni
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('pid_8cpp.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">pid.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of all control PID systems.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;pid.h&quot;</code><br />
<code>#include &quot;uarm_lib.hpp&quot;</code><br />
<code>#include &quot;uarm_math.hpp&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad32ea3836b44096212a621067c1e7b7d" id="r_ad32ea3836b44096212a621067c1e7b7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad32ea3836b44096212a621067c1e7b7d">pid_param_init</a> (<a class="el" href="struct_p_i_d__t.html">PID_t</a> *pid, int32_t max_out, float max_i_out, float max_err, float kp, float ki, float kd)</td></tr>
<tr class="memdesc:ad32ea3836b44096212a621067c1e7b7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <a class="el" href="struct_p_i_d__t.html">PID_t</a> structure with provided parameters.  <br /></td></tr>
<tr class="memitem:a94d4b32aea3a38e8bc82a4cf4e17ade3" id="r_a94d4b32aea3a38e8bc82a4cf4e17ade3"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94d4b32aea3a38e8bc82a4cf4e17ade3">pid_calculate</a> (<a class="el" href="struct_p_i_d__t.html">PID_t</a> *pid, float cur_val, float target_val, float dt)</td></tr>
<tr class="memdesc:a94d4b32aea3a38e8bc82a4cf4e17ade3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a single PID iteration for one time-step.  <br /></td></tr>
<tr class="memitem:ac3575cc1e2e29edb0cb1eaae8b08c870" id="r_ac3575cc1e2e29edb0cb1eaae8b08c870"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3575cc1e2e29edb0cb1eaae8b08c870">pid_incremental_calculate</a> (<a class="el" href="struct_p_i_d__t.html">PID_t</a> *pid, float cur_val, float target_val)</td></tr>
<tr class="memdesc:ac3575cc1e2e29edb0cb1eaae8b08c870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates incremental PID output for one time-step.  <br /></td></tr>
<tr class="memitem:a02ab2e7f459990b0352d33d3207749f6" id="r_a02ab2e7f459990b0352d33d3207749f6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02ab2e7f459990b0352d33d3207749f6">pid_single_loop_control</a> (float target_val, <a class="el" href="struct_p_i_d__t.html">PID_t</a> *pid, float cur_val, float dt)</td></tr>
<tr class="memdesc:a02ab2e7f459990b0352d33d3207749f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates iteration of single-loop PID controller.  <br /></td></tr>
<tr class="memitem:a2e5fef96402b263ea57cae7b365d4308" id="r_a2e5fef96402b263ea57cae7b365d4308"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e5fef96402b263ea57cae7b365d4308">pid_dual_loop_control</a> (float f_tar_val, <a class="el" href="struct_p_i_d__t.html">PID_t</a> *f_pid, <a class="el" href="struct_p_i_d__t.html">PID_t</a> *s_pid, float f_cur_val, float s_cur_val, float dt)</td></tr>
<tr class="memdesc:a2e5fef96402b263ea57cae7b365d4308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an iteration of dual-loop cascade PID controller.  <br /></td></tr>
<tr class="memitem:a091f512b2faa32dba2fec8e248871e92" id="r_a091f512b2faa32dba2fec8e248871e92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a091f512b2faa32dba2fec8e248871e92">pid2_init</a> (<a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;pid, float k_p, float k_i, float k_d, float beta, float yeta, float min_out, float max_out)</td></tr>
<tr class="memdesc:a091f512b2faa32dba2fec8e248871e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> controller.  <br /></td></tr>
<tr class="memitem:a70526c0bbf1cd63699f8ea3411da3ded" id="r_a70526c0bbf1cd63699f8ea3411da3ded"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70526c0bbf1cd63699f8ea3411da3ded">pid2_set_limits</a> (<a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;pid, float new_min_out, float new_max_out)</td></tr>
<tr class="memdesc:a70526c0bbf1cd63699f8ea3411da3ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets new output limits for <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> controller.  <br /></td></tr>
<tr class="memitem:a37fe3873e72387263077c34032a8f00c" id="r_a37fe3873e72387263077c34032a8f00c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37fe3873e72387263077c34032a8f00c">pid2_calculate</a> (<a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;pid, float sp, float pv, float dt)</td></tr>
<tr class="memdesc:a37fe3873e72387263077c34032a8f00c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates PID2 output for one time-step.  <br /></td></tr>
<tr class="memitem:a087b9420315ad67343094440235d7d14" id="r_a087b9420315ad67343094440235d7d14"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a087b9420315ad67343094440235d7d14">pid2_single_loop_control</a> (<a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;pid, float sp, float pv, float dt)</td></tr>
<tr class="memdesc:a087b9420315ad67343094440235d7d14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Caculate an iteration of a single-loop PID2 controller.  <br /></td></tr>
<tr class="memitem:aae22b201a972ffbeea387835dddb2708" id="r_aae22b201a972ffbeea387835dddb2708"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae22b201a972ffbeea387835dddb2708">pid2_dual_loop_control</a> (<a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;f_pid, <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;s_pid, float sp, float f_pv, float s_pv, float f_dt, float s_dt)</td></tr>
<tr class="memdesc:aae22b201a972ffbeea387835dddb2708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an iteration of a dual-loop PID2 controller.  <br /></td></tr>
<tr class="memitem:abb7303481ec8a4ff92d0fd25ae12507f" id="r_abb7303481ec8a4ff92d0fd25ae12507f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb7303481ec8a4ff92d0fd25ae12507f">pid2_triple_loop_control</a> (<a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;outer_pid, <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;middle_pid, <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;inner_pid, float sp, float outer_pv, float middle_pv, float inner_pv, float outer_dt, float middle_dt, float inner_dt)</td></tr>
<tr class="memdesc:abb7303481ec8a4ff92d0fd25ae12507f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an iteration for a triple-loop PID2 controller.  <br /></td></tr>
<tr class="memitem:af09f71ed6542d815b1b3818048dbb348" id="r_af09f71ed6542d815b1b3818048dbb348"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af09f71ed6542d815b1b3818048dbb348">prescaled_pid2_init</a> (<a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> *prescaled, uint32_t prescalar, float k_p, float k_i, float k_d, float beta, float yeta, float min_out, float max_out)</td></tr>
<tr class="memdesc:af09f71ed6542d815b1b3818048dbb348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> structure with provided parameters.  <br /></td></tr>
<tr class="memitem:afc4295413e2c4f55fde740b999c5a12c" id="r_afc4295413e2c4f55fde740b999c5a12c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc4295413e2c4f55fde740b999c5a12c">prescaled_pid2_single_loop_control</a> (<a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> *prescaled, float sp, float pv, float dt)</td></tr>
<tr class="memdesc:afc4295413e2c4f55fde740b999c5a12c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an iteration for prescaled single-loop PID2 controller.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of all control PID systems. </p>
<p>All implementations for control systems that utilizes PID as the primary controller are included in this file. This includes single and cascade control loops as well as different implementations of PID with their own solutions to problems known about PID controllers in real systems (e.g. integator windup, derivative kick, etc.). </p><dl class="section author"><dt>Author</dt><dd>James Fu </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-07-17 </dd></dl>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a37fe3873e72387263077c34032a8f00c" name="a37fe3873e72387263077c34032a8f00c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37fe3873e72387263077c34032a8f00c">&#9670;&#160;</a></span>pid2_calculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid2_calculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>sp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates PID2 output for one time-step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pid</td><td>Reference to <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sp</td><td>Setpoint value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pv</td><td>Plant value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>Time step. Must be positive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PID2 calculated output. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This PID implementation has a rudimentary anti-integrator windup. Back-calculation is not implemented. </dd></dl>

</div>
</div>
<a id="aae22b201a972ffbeea387835dddb2708" name="aae22b201a972ffbeea387835dddb2708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae22b201a972ffbeea387835dddb2708">&#9670;&#160;</a></span>pid2_dual_loop_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid2_dual_loop_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>f_pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>s_pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>sp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>f_pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>s_pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>f_dt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>s_dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an iteration of a dual-loop PID2 controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">f_pid</td><td>Reference to outer loop <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> struct. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s_pid</td><td>Reference to inner loop <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sp</td><td>Setpoint value for outer loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f_pv</td><td>Plant value for outer loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s_pv</td><td>Plant value for inner loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f_dt</td><td>Time step for outer loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s_dt</td><td>Time step for inner loop. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PID2 calculated output from inner loop. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Calculations are done with <a class="el" href="#a37fe3873e72387263077c34032a8f00c">pid2_calculate</a>. </dd></dl>

</div>
</div>
<a id="a091f512b2faa32dba2fec8e248871e92" name="a091f512b2faa32dba2fec8e248871e92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091f512b2faa32dba2fec8e248871e92">&#9670;&#160;</a></span>pid2_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pid2_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>k_p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>k_i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>k_d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>beta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>yeta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>min_out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>max_out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pid</td><td>Reference to <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> controller struct to initialize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k_p</td><td>Proportional gain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k_i</td><td>Integral gain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k_d</td><td>Derivative gain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">beta</td><td>Proportional error scaling factor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yeta</td><td>Derivative error scaling factor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><code class="param">beta</code> and <code class="param">yeta</code> are parameters for setpoint weighting, which is primarily used for negating effects of derivative kick. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">min_out</td><td>Minimum output value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_out</td><td>Maximum output value. Must be greater or equal to min_out. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70526c0bbf1cd63699f8ea3411da3ded" name="a70526c0bbf1cd63699f8ea3411da3ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70526c0bbf1cd63699f8ea3411da3ded">&#9670;&#160;</a></span>pid2_set_limits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pid2_set_limits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>new_min_out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>new_max_out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets new output limits for <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pid</td><td>Reference to <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> controller struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_min_out</td><td>New minimum output value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_max_out</td><td>New maximum output value. Must be greater or equal to new_min_out. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Anti-integrator windup is not yet implemented. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo</a></b></dt><dd>Implement anti-integrator windup with <code class="param">new_min_out</code> and <code class="param">new_max_out</code>. </dd></dl>

</div>
</div>
<a id="a087b9420315ad67343094440235d7d14" name="a087b9420315ad67343094440235d7d14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a087b9420315ad67343094440235d7d14">&#9670;&#160;</a></span>pid2_single_loop_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid2_single_loop_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>sp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Caculate an iteration of a single-loop PID2 controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pid</td><td>Reference to <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> controller struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sp</td><td>Setpoint value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pv</td><td>Plant value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>Time step. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PID2 calculated output. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is a wrapper that relies on <a class="el" href="#a37fe3873e72387263077c34032a8f00c">pid2_calculate</a> to do calculations. </dd></dl>

</div>
</div>
<a id="abb7303481ec8a4ff92d0fd25ae12507f" name="abb7303481ec8a4ff92d0fd25ae12507f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb7303481ec8a4ff92d0fd25ae12507f">&#9670;&#160;</a></span>pid2_triple_loop_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid2_triple_loop_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>outer_pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>middle_pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_d2__t.html">PID2_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>inner_pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>sp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>outer_pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>middle_pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>inner_pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>outer_dt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>middle_dt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>inner_dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an iteration for a triple-loop PID2 controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">outer_pid</td><td>Reference to outer loop <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> struct. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">middle_pid</td><td>Reference to middle loop <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> struct. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inner_pid</td><td>Reference to inner loop <a class="el" href="struct_p_i_d2__t.html">PID2_t</a> struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sp</td><td>Setpoint value for outer loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outer_pv</td><td>Plant value for outer loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">middle_pv</td><td>Plant value for middle loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inner_pv</td><td>Plant value for inner loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outer_dt</td><td>Time step for outer loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">middle_dt</td><td>Time step for middle loop. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inner_dt</td><td>Time step for inner loop. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PID2 calculated output from inner loop. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Uses <a class="el" href="#a37fe3873e72387263077c34032a8f00c">pid2_calculate</a> for each loop. </dd></dl>

</div>
</div>
<a id="a94d4b32aea3a38e8bc82a4cf4e17ade3" name="a94d4b32aea3a38e8bc82a4cf4e17ade3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d4b32aea3a38e8bc82a4cf4e17ade3">&#9670;&#160;</a></span>pid_calculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid_calculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d__t.html">PID_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>cur_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>target_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes a single PID iteration for one time-step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pid</td><td>Pointer to <a class="el" href="struct_p_i_d__t.html">PID_t</a> struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cur_val</td><td>Plant value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target_val</td><td>Target value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>Time step (seconds). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd><code class="param">dt</code> parameter is ignored and the time-step is always assumed to be 1.0. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>PID calculated output. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If error exceeds <code class="param">max_err</code>, the output is zero and PID iteration calculations are skipped. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated</a></b></dt><dd>This PID implementation has known problems and will be removed in the future. </dd></dl>

</div>
</div>
<a id="a2e5fef96402b263ea57cae7b365d4308" name="a2e5fef96402b263ea57cae7b365d4308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5fef96402b263ea57cae7b365d4308">&#9670;&#160;</a></span>pid_dual_loop_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid_dual_loop_control </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>f_tar_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_d__t.html">PID_t</a> *</td>          <td class="paramname"><span class="paramname"><em>f_pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_d__t.html">PID_t</a> *</td>          <td class="paramname"><span class="paramname"><em>s_pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>f_cur_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>s_cur_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an iteration of dual-loop cascade PID controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f_tar_val</td><td>Outer loop target value. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">f_pid</td><td>Pointer to outer loop <a class="el" href="struct_p_i_d__t.html">PID_t</a> controller struct. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s_pid</td><td>Pointer to inner loop <a class="el" href="struct_p_i_d__t.html">PID_t</a> controller struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f_cur_val</td><td>Outer loop current value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s_cur_val</td><td>Inner loop current value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>Time step for both loops. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PID calculated output from inner loop. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated</a></b></dt><dd>This PID implementation has known problems and will be removed in the future. </dd></dl>

</div>
</div>
<a id="ac3575cc1e2e29edb0cb1eaae8b08c870" name="ac3575cc1e2e29edb0cb1eaae8b08c870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3575cc1e2e29edb0cb1eaae8b08c870">&#9670;&#160;</a></span>pid_incremental_calculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid_incremental_calculate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d__t.html">PID_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>cur_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>target_val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates incremental PID output for one time-step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pid</td><td>Pointer to <a class="el" href="struct_p_i_d__t.html">PID_t</a> controller struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cur_val</td><td>Plant value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">target_val</td><td>Target value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PID calculated output. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If error exceeds <code class="param">max_err</code>, the output is zero and PID iteration is skipped. </dd>
<dd>
Implements dead zone management: output below 10 is set to zero. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated</a></b></dt><dd>This PID implementation has known problems and will be removed in the future. </dd></dl>

</div>
</div>
<a id="ad32ea3836b44096212a621067c1e7b7d" name="ad32ea3836b44096212a621067c1e7b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad32ea3836b44096212a621067c1e7b7d">&#9670;&#160;</a></span>pid_param_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pid_param_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_d__t.html">PID_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>max_out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>max_i_out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>max_err</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>kp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>ki</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>kd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a <a class="el" href="struct_p_i_d__t.html">PID_t</a> structure with provided parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pid</td><td>Pointer to <a class="el" href="struct_p_i_d__t.html">PID_t</a> struct to initialize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_out</td><td>Maximum output magnitude. Must be non-negative. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_i_out</td><td>Maximum integral output magnitude. Must be non-negative. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_err</td><td>Maximum error value. Must be non-negative. Errors greater than this will skip a PID iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Errors greater than max_err will skip a PID iteration. </dd>
<dd>
max_out, max_i_out, and max_err must be non-negative. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">kp</td><td>Proportional gain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ki</td><td>Integral gain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kd</td><td>Derivative gain. </td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated</a></b></dt><dd>This PID implementation has known problems and will be removed in the future. </dd></dl>

</div>
</div>
<a id="a02ab2e7f459990b0352d33d3207749f6" name="a02ab2e7f459990b0352d33d3207749f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ab2e7f459990b0352d33d3207749f6">&#9670;&#160;</a></span>pid_single_loop_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pid_single_loop_control </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>target_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_d__t.html">PID_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>cur_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates iteration of single-loop PID controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">target_val</td><td>Target value. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pid</td><td>Pointer to <a class="el" href="struct_p_i_d__t.html">PID_t</a> controller struct. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cur_val</td><td>Plant value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>Time step. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PID calculated output. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Calls pid_calculate for computation. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated</a></b></dt><dd>This PID implementation has known problems and will be removed in the future. </dd></dl>

</div>
</div>
<a id="af09f71ed6542d815b1b3818048dbb348" name="af09f71ed6542d815b1b3818048dbb348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09f71ed6542d815b1b3818048dbb348">&#9670;&#160;</a></span>prescaled_pid2_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prescaled_pid2_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> *</td>          <td class="paramname"><span class="paramname"><em>prescaled</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>prescalar</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>k_p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>k_i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>k_d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>beta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>yeta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>min_out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>max_out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a <a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> structure with provided parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prescaled</td><td>Pointer to <a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> struct to initialize. </td></tr>
    <tr><td class="paramname">prescalar</td><td>Number of calls before PID2 calculation is performed. </td></tr>
    <tr><td class="paramname">k_p</td><td>Proportional gain. </td></tr>
    <tr><td class="paramname">k_i</td><td>Integral gain. </td></tr>
    <tr><td class="paramname">k_d</td><td>Derivative gain. </td></tr>
    <tr><td class="paramname">beta</td><td>Proportional error scaling factor. </td></tr>
    <tr><td class="paramname">yeta</td><td>Derivative error scaling factor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><code class="param">beta</code> and <code class="param">yeta</code> are parameters for setpoint weighting, which is primarily used for negating effects of derivative kick. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min_out</td><td>Minimum output value. </td></tr>
    <tr><td class="paramname">max_out</td><td>Maximum output value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afc4295413e2c4f55fde740b999c5a12c" name="afc4295413e2c4f55fde740b999c5a12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc4295413e2c4f55fde740b999c5a12c">&#9670;&#160;</a></span>prescaled_pid2_single_loop_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prescaled_pid2_single_loop_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> *</td>          <td class="paramname"><span class="paramname"><em>prescaled</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>sp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>pv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an iteration for prescaled single-loop PID2 controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prescaled</td><td>Pointer to <a class="el" href="struct_prescaled___p_i_d2__t.html">Prescaled_PID2_t</a> struct. </td></tr>
    <tr><td class="paramname">sp</td><td>Setpoint value. </td></tr>
    <tr><td class="paramname">pv</td><td>Plant (process) value. </td></tr>
    <tr><td class="paramname">dt</td><td>Time step. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>PID2 calculation is performed only after prescalar calls. </dd>
<dd>
Uses <a class="el" href="#a37fe3873e72387263077c34032a8f00c">pid2_calculate</a> for calculations. </dd>
<dd>
<a class="el" href="#a37fe3873e72387263077c34032a8f00c">pid2_calculate</a> is called with an accumulated time step cumsum_dt. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a href="dir_b596f468b52957496e4f78b80e029268.html">Src</a></li><li class="navelem"><a href="dir_68571371e7e0da7b5ba1b28c0fba6fe0.html">Algorithms</a></li><li class="navelem"><a href="dir_9d71e9df115512b33bb492009536582d.html">control</a></li><li class="navelem"><a href="pid_8cpp.html">pid.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
